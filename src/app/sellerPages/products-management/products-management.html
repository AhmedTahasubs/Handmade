<div class="space-y-6">
  <!-- Header -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
    <div>
      <h1 class="text-2xl font-bold text-gray-900 dark:text-white">
        {{ getTranslation('title') }}
      </h1>
      <p class="text-gray-600 dark:text-gray-400">
        {{ getTranslation('subtitle') }}
      </p>
    </div>
    <button
      (click)="openCreateModal()"
      class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2"
    >
      <i class="fa-solid fa-plus w-4 h-4"></i>
      {{ getTranslation('addProduct') }}
    </button>
  </div>

  <!-- Stats Cards -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4 pb-4">
    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
      <div class="flex items-center">
        <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center">
          <i class="fas fa-box text-blue-600 dark:text-blue-400"></i>
        </div>
        <div class="ml-3 rtl:mr-3 rtl:ml-0">
          <p class="text-sm font-medium text-gray-600 dark:text-gray-400">{{ getTranslation('totalProducts') }}</p>
          <p class="text-xl font-bold text-gray-900 dark:text-white">{{ products.length }}</p>
        </div>
      </div>
    </div>
    
    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
      <div class="flex items-center">
        <div class="w-10 h-10 bg-green-100 dark:bg-green-900/50 rounded-lg flex items-center justify-center">
          <i class="fas fa-check-circle text-green-600 dark:text-green-400"></i>
        </div>
        <div class="ml-3 rtl:mr-3 rtl:ml-0">
          <p class="text-sm font-medium text-gray-600 dark:text-gray-400">{{ getTranslation('activeProducts') }}</p>
          <p class="text-xl font-bold text-gray-900 dark:text-white">{{ getActiveProductsCount() }}</p>
        </div>
      </div>
    </div>
    
    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
      <div class="flex items-center">
        <div class="w-10 h-10 bg-red-100 dark:bg-red-900/50 rounded-lg flex items-center justify-center">
          <i class="fas fa-exclamation-triangle text-red-600 dark:text-red-400"></i>
        </div>
        <div class="ml-3 rtl:mr-3 rtl:ml-0">
          <p class="text-sm font-medium text-gray-600 dark:text-gray-400">{{ getTranslation('outOfStock') }}</p>
          <p class="text-xl font-bold text-gray-900 dark:text-white">{{ getOutOfStockCount() }}</p>
        </div>
      </div>
    </div>
    
    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
      <div class="flex items-center">
        <div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/50 rounded-lg flex items-center justify-center">
          <i class="fas fa-chart-line text-purple-600 dark:text-purple-400"></i>
        </div>
        <div class="ml-3 rtl:mr-3 rtl:ml-0">
          <p class="text-sm font-medium text-gray-600 dark:text-gray-400">{{ getTranslation('totalSales') }}</p>
          <p class="text-xl font-bold text-gray-900 dark:text-white">{{ getTotalSales() }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Data Table -->
  <app-data-table
    [data]="products"
    [columns]="columns"
    [actions]="actions"
    searchPlaceholder="{{ getTranslation('searchPlaceholder') }}"
    (actionClicked)="onAction($event)"
    (exportClicked)="onExport()"
  ></app-data-table>

  <!-- Create/Edit Modal -->
  <app-modal
    [isOpen]="showModal"
    [title]="modalTitle"
    [confirmText]="isEditing ? getTranslation('update') : getTranslation('create')"
    (closed)="closeModal()"
    (confirmed)="saveProduct()"
  >
    <form class="space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          {{ getTranslation('productName') }}
        </label>
        <input
          type="text"
          [(ngModel)]="currentProduct.name"
          name="name"
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
        />
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          {{ getTranslation('description') }}
        </label>
        <textarea
          [(ngModel)]="currentProduct.description"
          name="description"
          rows="3"
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
        ></textarea>
      </div>
      
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            {{ getTranslation('price') }}
          </label>
          <input
            type="number"
            [(ngModel)]="currentProduct.price"
            name="price"
            class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          />
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            {{ getTranslation('stock') }}
          </label>
          <input
            type="number"
            [(ngModel)]="currentProduct.stock"
            name="stock"
            class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
          />
        </div>
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          {{ getTranslation('category') }}
        </label>
        <select
          [(ngModel)]="currentProduct.category"
          name="category"
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
        >
          <option value="Home Decor">{{ getTranslation('homeDecor') }}</option>
          <option value="Jewelry">{{ getTranslation('jewelry') }}</option>
          <option value="Clothing">{{ getTranslation('clothing') }}</option>
          <option value="Accessories">{{ getTranslation('accessories') }}</option>
          <option value="Art">{{ getTranslation('art') }}</option>
        </select>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
          {{ getTranslation('status') }}
        </label>
        <select
          [(ngModel)]="currentProduct.status"
          name="status"
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"
        >
          <option value="active">{{ getTranslation('active') }}</option>
          <option value="inactive">{{ getTranslation('inactive') }}</option>
          <option value="out_of_stock">{{ getTranslation('out_of_stock') }}</option>
        </select>
      </div>
    </form>
  </app-modal>

  <!-- Delete Confirmation Modal -->
  <app-modal
    [isOpen]="showDeleteModal"
    [title]="getTranslation('deleteProduct')"
    confirmText="Delete"
    confirmButtonType="danger"
    (closed)="closeDeleteModal()"
    (confirmed)="confirmDelete()"
  >
    <div class="text-center">
      <div class="w-12 h-12 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-trash w-6 h-6 text-red-600 dark:text-red-400"></i>
      </div>
      <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">{{ getTranslation('deleteConfirm') }}</h3>
      <p class="text-gray-500 dark:text-gray-400">
        {{ getTranslation('deleteMessage') }}
      </p>
    </div>
  </app-modal>
</div>