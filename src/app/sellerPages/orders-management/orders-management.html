<div class="space-y-6">
  <!-- Header -->
  <div>
    <h1 class="text-2xl font-bold text-gray-900 dark:text-white">
      {{ getTranslation('title') }}
    </h1>
    <p class="text-gray-600 dark:text-gray-400">
      {{ getTranslation('subtitle') }}
    </p>
  </div>

  <!-- Stats Cards -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4 pb-4">
    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
      <div class="flex items-center">
        <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center">
          <i class="fas fa-shopping-cart text-blue-600 dark:text-blue-400"></i>
        </div>
        <div class="ml-3 rtl:mr-3 rtl:ml-0">
          <p class="text-sm font-medium text-gray-600 dark:text-gray-400">{{ getTranslation('totalOrders') }}</p>
          <p class="text-xl font-bold text-gray-900 dark:text-white">{{ orders.length }}</p>
        </div>
      </div>
    </div>
    
    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
      <div class="flex items-center">
        <div class="w-10 h-10 bg-yellow-100 dark:bg-yellow-900/50 rounded-lg flex items-center justify-center">
          <i class="fas fa-clock text-yellow-600 dark:text-yellow-400"></i>
        </div>
        <div class="ml-3 rtl:mr-3 rtl:ml-0">
          <p class="text-sm font-medium text-gray-600 dark:text-gray-400">{{ getTranslation('pendingOrders') }}</p>
          <p class="text-xl font-bold text-gray-900 dark:text-white">{{ getPendingOrdersCount() }}</p>
        </div>
      </div>
    </div>
    
    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
      <div class="flex items-center">
        <div class="w-10 h-10 bg-green-100 dark:bg-green-900/50 rounded-lg flex items-center justify-center">
          <i class="fas fa-check-circle text-green-600 dark:text-green-400"></i>
        </div>
        <div class="ml-3 rtl:mr-3 rtl:ml-0">
          <p class="text-sm font-medium text-gray-600 dark:text-gray-400">{{ getTranslation('completedOrders') }}</p>
          <p class="text-xl font-bold text-gray-900 dark:text-white">{{ getCompletedOrdersCount() }}</p>
        </div>
      </div>
    </div>
    
    <div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
      <div class="flex items-center">
        <div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/50 rounded-lg flex items-center justify-center">
          <i class="fas fa-dollar-sign text-purple-600 dark:text-purple-400"></i>
        </div>
        <div class="ml-3 rtl:mr-3 rtl:ml-0">
          <p class="text-sm font-medium text-gray-600 dark:text-gray-400">{{ getTranslation('totalRevenue') }}</p>
          <p class="text-xl font-bold text-gray-900 dark:text-white">${{ getTotalRevenue() }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Status Filter -->
  <div class="flex flex-wrap gap-2 !my-4">
    <button
      *ngFor="let status of statusFilters"
      (click)="setStatusFilter(status.value)"
      [class]="getFilterButtonClass(status.value)"
    >
      <i [class]="status.icon" class="w-4 h-4"></i>
      {{ languageService.currentLanguage() === 'ar' ? 
         status.value === 'all' ? 'الكل' :
         status.value === 'Pending' ? 'قيد الانتظار' :
         status.value === 'Shipped' ? 'تم الشحن' :
         status.value === 'Delivered' ? 'تم التسليم' :
         status.value === 'Rejected' ? 'مرفوض' : status.label : status.label }}
      <span class="bg-white text-black dark:text-white dark:bg-gray-800 text-xs px-2 py-1 rounded-full">
        {{ getStatusCount(status.value) }}
      </span>
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="flex justify-center items-center py-8">
    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div>
  </div>

  <!-- Data Table -->
  <app-data-table
    *ngIf="!isLoading"
    [data]="filteredOrders"
    [title]="getTranslation('ordersList')"
    [subtitle]="getTranslation('ordersSubtitle')"
    [columns]="columns"
    [actions]="actions"
    searchPlaceholder="{{ getTranslation('searchPlaceholder') }}"
    (actionClicked)="onAction($event)"
  ></app-data-table>

  <!-- Order Details Modal -->
  <app-modal
    *ngIf="selectedOrder"
    [isOpen]="showOrderDetailsModal"
    [title]="getTranslation('orderDetails')"
    [confirmText]="getTranslation('close')"
    [showCancelButton]="false"
    (closed)="closeOrderDetailsModal()"
    (confirmed)="closeOrderDetailsModal()"
  >
    <div class="space-y-6">
      <!-- Order Summary -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">{{ getTranslation('customerInfo') }}</h3>
          <div class="space-y-2">
            <div class="flex justify-between">
              <span class="text-gray-600 dark:text-gray-400">Name:</span>
              <span class="font-medium">{{ selectedOrder.customerName }}</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600 dark:text-gray-400">Phone:</span>
              <span>{{ selectedOrder.customerPhone }}</span>
            </div>
          </div>
        </div>
        
        <div>
          <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">{{ getTranslation('productInfo') }}</h3>
          <div class="space-y-2">
            <div class="flex justify-between">
              <span class="text-gray-600 dark:text-gray-400">Product:</span>
              <span class="font-medium">{{ selectedOrder.productTitle }}</span>
            </div>
            <div class="flex items-center gap-4 mt-2">
              <img [src]="selectedOrder.productImageUrl" class="w-16 h-16 object-cover rounded-lg">
              <div class="flex-1">
                <div class="flex justify-between">
                  <span class="text-gray-600 dark:text-gray-400">{{ getTranslation('quantity') }}:</span>
                  <span>{{ selectedOrder.quantity }}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600 dark:text-gray-400">{{ getTranslation('price') }}:</span>
                  <span>${{ selectedOrder.unitPrice }}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-gray-600 dark:text-gray-400">{{ getTranslation('total') }}:</span>
                  <span class="font-medium">${{ selectedOrder.totalPrice }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Order Details -->
      <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">{{ getTranslation('orderDetails') }}</h3>
        <div class="space-y-3">
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">{{ getTranslation('orderNumber') }}:</span>
            <span class="font-medium">#{{ selectedOrder.orderId }}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">{{ getTranslation('status') }}:</span>
            <span [class]="'px-2 py-1 rounded-full text-xs '">
              {{ selectedOrder.status }}
            </span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600 dark:text-gray-400">{{ getTranslation('datePlaced') }}:</span>
            <span>{{ formatDate(selectedOrder.createdAt) }}</span>
          </div>
        </div>
      </div>
    </div>
  </app-modal>
</div>