
<div *ngIf="isOpen" class="fixed inset-0 z-40 lg:hidden">
  <div class="fixed inset-0 bg-gray-600 bg-opacity-75" (click)="onClose.emit()"></div>
</div>

<!-- Wrap everything in a direction-aware div -->
<div [dir]="LanguageService.currentLanguage() === 'ar' ? 'rtl' : 'ltr'" [class]="getSidebarClasses()">
  <div class="flex items-center justify-between h-16 px-6 border-b border-gray-200 dark:border-gray-700">
    <div class="flex items-center space-x-3">
      <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center">
        <span class="text-white font-bold text-sm">HM</span>
      </div>
      <div>
        <span class="font-bold text-gray-900 dark:text-white text-sm">{{ labels.title }}</span>
        <p class="text-xs text-gray-500 dark:text-gray-400">{{ labels.subtitle }}</p>
      </div>
    </div>
    <button
      (click)="onClose.emit()"
      class="lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"
    >
      <i class="fa-solid fa-times w-5 h-5"></i>
    </button>
  </div>

  <nav class="flex-1 px-4 py-6 space-y-1 overflow-y-auto">
    <a
      *ngFor="let item of navigation"
      [href]="item.href"
      [class]="getNavItemClasses(item)"
    >
      <div [class]="getNavItemContentClasses()">
        <i [class]="'w-5 h-5 mx-3 fa-solid ' + getIconClass(item.icon)"></i>
        {{ item.name }}
      </div>
      <!-- <span *ngIf="item?.badge" class="bg-red-500 text-white text-xs px-2 py-1 rounded-full">{{ item?.badge }}</span> -->
    </a>
  </nav>

  <div class="p-4 border-t border-gray-200 dark:border-gray-700">
    <div class="flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
      <div class="w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center">
        <span class="text-xs font-medium text-gray-600 dark:text-gray-300">A</span>
      </div>
      <div class="flex-1 min-w-0">
        <p class="text-sm font-medium text-gray-900 dark:text-white truncate">Admin User</p>
        <p class="text-xs text-gray-500 dark:text-gray-400 truncate">admin-handmade.com</p>
      </div>
    </div>
  </div>
</div>
